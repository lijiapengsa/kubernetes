参考：http://www.cnblogs.com/fengjian2016/p/8819657.html



未整理的命令记录：

```bash
export KUBE_APISERVER="https://192.168.10.249:6443"
kubectl config set-cluster kubernetes \
--certificate-authority=/etc/kubernetes/ssl/ca.pem \
--embed-certs=true \
--server=${KUBE_APISERVER} \
--kubeconfig=admin.kubeconfig

#
kubectl config set-credentials admin \
--client-certificate=/etc/kubernetes/ssl/admin.pem \
--client-key=/etc/kubernetes/ssl/admin-key.pem \
--embed-certs=true \
--kubeconfig=admin.kubeconfig
#
kubectl config set-context kubernetes \
--cluster=kubernetes \
--user=admin \
--namespace=admin \
--kubeconfig=admin.kubeconfig
#
kubectl config use-context kubernetes --kubeconfig=admin.kubeconfig
kubectl create clusterrolebinding root-cluster-admin-binding --clusterrole=cluster-admin --user=admin
```

```bash
export USER="admin"
kubectl create ns $USER
kubectl create rolebinding ${USER}-admin-binding --clusterrole=admin --user=$USER --namespace=$USER --serviceaccount=$USER:default
kubectl config get-contexts

```
